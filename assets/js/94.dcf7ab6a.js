(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{370:function(e,a,t){"use strict";t.r(a);var s=t(14),r=Object(s.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h6",{attrs:{id:"last-updated-2025-03-05"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#last-updated-2025-03-05"}},[e._v("#")]),e._v(" last updated: 2025-03-05")]),e._v(" "),a("h1",{attrs:{id:"elevating-centos-7-to-almalinux-9"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#elevating-centos-7-to-almalinux-9"}},[e._v("#")]),e._v(" ELevating CentOS 7 to AlmaLinux 9")]),e._v(" "),a("p",[e._v("This guide contains steps on how to upgrade your CentOS 7 machine to AlmaLinux OS 9.\nAs the Leapp tool is designed to perform one-step upgrades, you need to split the upgrade process:")]),e._v(" "),a("ul",[a("li",[e._v("CentOS 7 to AlmaLinux 8")]),e._v(" "),a("li",[e._v("AlmaLinux 8 to AlmaLinux 9")])]),e._v(" "),a("p",[e._v("The ELevate project supports a number of 3rd party repositories:")]),e._v(" "),a("ul",[a("li",[e._v("EPEL support is currently available for upgrades to AlmaLinux OS only.")]),e._v(" "),a("li",[e._v("Docker CE - for all supported operating systems.")]),e._v(" "),a("li",[e._v("MariaDB - for all supported operating systems.")]),e._v(" "),a("li",[e._v("Microsoft Linux Package Repositories - for all supported operating systems.")]),e._v(" "),a("li",[e._v("nginx - for all supported operating systems.")]),e._v(" "),a("li",[e._v("PostgreSQL - for all supported operating systems.")]),e._v(" "),a("li",[e._v("Imunify - for upgrades to EL 8.")]),e._v(" "),a("li",[e._v("KernelCare - for all supported operating systems.")])]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),a("p",[e._v("You can contribute to the project and add more 3rd party repositories support. See more on the "),a("a",{attrs:{href:"/elevate/Contribution-guide"}},[e._v("Contribute")]),e._v(" page.")])]),e._v(" "),a("h2",{attrs:{id:"upgrade-centos-7-to-almalinux-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#upgrade-centos-7-to-almalinux-8"}},[e._v("#")]),e._v(" Upgrade CentOS 7 to AlmaLinux 8")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Update the system to get the latest updates and reboot your machine.\n"),a("strong",[e._v("NOTE:")]),e._v(" Since the CentOS 7 repositories are now offline you will need to swap to the CentOS vault, or you can use our CentOS 7 mirror that we've setup for use with ELevate:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-o")]),e._v(" /etc/yum.repos.d/CentOS-Base.repo https://el7.repo.almalinux.org/centos/CentOS-Base.repo\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" yum upgrade "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-y")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("reboot")]),e._v("\n")])])])]),e._v(" "),a("li",[a("p",[e._v("Install "),a("code",[e._v("elevate-release")]),e._v(" package with the project repo and GPG key.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sudo yum install -y http://repo.almalinux.org/elevate/elevate-release-latest-el$(rpm --eval %rhel).noarch.rpm\n")])])])]),e._v(" "),a("li",[a("p",[e._v("Install leapp packages and upgrade data for AlmaLinux which is target OS:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sudo yum install -y leapp-upgrade leapp-data-almalinux\n")])])])]),e._v(" "),a("li",[a("p",[e._v("Start a preupgrade check. In the meanwhile, the Leapp utility creates a special "),a("em",[e._v("/var/log/leapp/leapp-report.txt")]),e._v(" file that contains possible problems and recommended solutions. No rpm packages will be installed at this phase.")]),e._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),a("p",[e._v("Preupgrade check will fail as the default install doesn't meet all requirements for upgrade.")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sudo leapp preupgrade\n")])])]),a("p",[e._v("This summary report will help you get a picture of whether it is possible to continue the upgrade.")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),a("p",[e._v("In certain configurations, Leapp generates "),a("em",[e._v("/var/log/leapp/answerfile")]),e._v(" with true/false questions. Leapp utility requires answers to all these questions in order to proceed with the upgrade.")])])]),e._v(" "),a("li",[a("p",[e._v("The following fixes from "),a("em",[e._v("the /var/log/leapp/leapp-report.txt")]),e._v(" file are the most popular for CentOS 7, but it's recommended to review the whole file.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sudo rmmod pata_acpi\necho PermitRootLogin yes | sudo tee -a /etc/ssh/sshd_config\nsudo leapp answer --section remove_pam_pkcs11_module_check.confirm=True\n")])])]),a("p",[e._v("Check the "),a("a",{attrs:{href:"/elevate/ELevate-frequent-issues"}},[e._v("ELevate Frequent Issues")]),e._v(" page for known and frequent issues and guidance steps to solve them.")])]),e._v(" "),a("li",[a("p",[e._v("Start an upgrade. You'll be offered to reboot the system after this process is completed.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sudo leapp upgrade\nsudo reboot\n")])])])]),e._v(" "),a("li",[a("p",[e._v("A new entry in GRUB called "),a("code",[e._v("ELevate-Upgrade-Initramfs")]),e._v(" will appear. The system will be automatically booted into it.\nSee how the update process goes in the console.")])]),e._v(" "),a("li",[a("p",[e._v("After reboot, login to the system and check how the upgrade went. Verify that the current OS is the one you need. Check logs and packages left from the previous OS version, consider removing or updating them manually.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("cat /etc/redhat-release\ncat /etc/os-release\nrpm -qa | grep el7 \ncat /var/log/leapp/leapp-report.txt\ncat /var/log/leapp/leapp-upgrade.log\n")])])])])]),e._v(" "),a("h2",{attrs:{id:"prepare-the-system-for-upgrade-to-almalinux-9"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prepare-the-system-for-upgrade-to-almalinux-9"}},[e._v("#")]),e._v(" Prepare the system for upgrade to AlmaLinux 9")]),e._v(" "),a("p",[e._v("When successfully upgraded to AlmaLinux 8 OS, consider performing these steps to prepare your system for upgrade to AlmaLinux 9:")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Navigate to the "),a("strong",[e._v("/etc/")]),e._v(" directory and use an editor of your choice to edit the "),a("strong",[e._v("yum.conf")]),e._v(" file. You need to remove everything from the "),a("strong",[e._v("exclude")]),e._v(" line especially that refers to elevate or leapp.")]),e._v(" "),a("h5",{attrs:{id:"an-example-of-yum-conf-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#an-example-of-yum-conf-file"}},[e._v("#")]),e._v(" An example of yum.conf file:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("main"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("gpgcheck")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("installonly_limit")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("3")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("clean_requirements_on_remove")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("True\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("best")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("True\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("skip_if_unavailable")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("False\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("exclude")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("python2-leapp,snactor,leapp-upgrade-el7toel8,leapp\n")])])])]),e._v(" "),a("li",[a("p",[e._v("Then navigate to the "),a("em",[e._v("/etc/dnf/")]),e._v(" directory and use an editor of your choice to do the same in the "),a("strong",[e._v("dnf.conf")]),e._v(" file.")])]),e._v(" "),a("li",[a("p",[e._v("Now you can remove/manually upgrade packages left from CentOS 7 without any conflicts.")])]),e._v(" "),a("li",[a("p",[e._v("Check packages left from CentOS 7:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("rpm -qa | grep el7\n")])])]),a("h5",{attrs:{id:"an-example-output-with-a-list-of-packages"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#an-example-output-with-a-list-of-packages"}},[e._v("#")]),e._v(" An example output with a list of packages:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("leapp-upgrade-el7toel8-0.16.0-6.el7.elevate.17.noarch\nyum-plugin-fastestmirror-1.1.31-54.el7_8.noarch\npython2-leapp-0.14.0-1.el7.noarch\nleapp-data-almalinux-0.1-6.el7.noarch\nkernel-3.10.0-1160.102.1.el7.x86_64\nkernel-3.10.0-1160.el7.x86_64\njava-1.7.0-openjdk-headless-1.7.0.261-2.6.22.2.el7_8.x86_64\nbtrfs-progs-4.9.1-1.el7.x86_64\nelevate-release-1.0-2.el7.noarch\nleapp-0.14.0-1.el7.noarch\n")])])]),a("p",[e._v("As mentioned above, consider removing these packages or upgrading them manually to proceed with the upgrade to AlmaLinux 9.")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),a("p",[e._v("If you face difficulties while removing the packages, the following command might help you:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("rpm -e --nodeps <package_name>\n")])])])])]),e._v(" "),a("li",[a("p",[e._v("You can also check for the packages left from the upgrade process and remove them:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("rpm -qa | grep elevate\nrpm -qa | grep leapp\n")])])])]),e._v(" "),a("li",[a("p",[e._v("Check whether you have the "),a("em",[e._v("/root/tmp_leapp_py3")]),e._v(" directory created and if so delete it.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sudo rm -fr /root/tmp_leapp_py3\n")])])])]),e._v(" "),a("li",[a("p",[e._v("Clean up your machine.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sudo dnf clean all\n")])])])]),e._v(" "),a("li",[a("p",[e._v("You may also have to remove old RSA/SHA1 GPG keys. List the keys:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("rpm -q gpg-pubkey --qf '%{NAME}-%{VERSION}-%{RELEASE}\\t%{SUMMARY}\\n'\n")])])]),a("p",[e._v("To remove them, use use the "),a("code",[e._v("rpm -e")]),e._v(" command:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("rpm -e [keyname]\n")])])])])]),e._v(" "),a("p",[e._v("After these preparations are completed, you can upgrade your AlmaLinux 8 machine to AlmaLinux 9.")]),e._v(" "),a("h2",{attrs:{id:"upgrading-almalinux-8-to-almalinux-9"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#upgrading-almalinux-8-to-almalinux-9"}},[e._v("#")]),e._v(" Upgrading AlmaLinux 8 to AlmaLinux 9")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Install "),a("code",[e._v("elevate-release")]),e._v(" package with the project repo and GPG key.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sudo yum install -y http://repo.almalinux.org/elevate/elevate-release-latest-el$(rpm --eval %rhel).noarch.rpm\n")])])])]),e._v(" "),a("li",[a("p",[e._v("Install leapp packages and upgrade data for AlmaLinux:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sudo yum install -y leapp-upgrade leapp-data-almalinux\n")])])])]),e._v(" "),a("li",[a("p",[e._v("Start a preupgrade check. In the meanwhile, the Leapp utility creates a special "),a("em",[e._v("/var/log/leapp/leapp-report.txt")]),e._v(" file that contains possible problems and recommended solutions. No rpm packages will be installed at this phase.")]),e._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),a("p",[e._v("Preupgrade check will fail as the default install doesn't meet all requirements for upgrading.")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sudo leapp preupgrade\n")])])]),a("p",[e._v("This summary report will help you get a picture of whether it is possible to continue the upgrade.")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),a("p",[e._v("In certain configurations, Leapp generates "),a("em",[e._v("/var/log/leapp/answerfile")]),e._v(" with true/false questions. Leapp utility requires answers to all these questions in order to proceed with the upgrade.")])])]),e._v(" "),a("li",[a("p",[e._v("The following fixes from "),a("em",[e._v("the /var/log/leapp/leapp-report.txt")]),e._v(" file are the most popular fixes for RHEL8-based operating systems:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("sed")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-i")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"s/^AllowZoneDrifting=.*/AllowZoneDrifting=no/"')]),e._v(" /etc/firewalld/firewalld.conf\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" leapp answer "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--section")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("check_vdo.confirm")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("True\n")])])]),a("p",[e._v("You might also find the following issue in the "),a("strong",[e._v("leapp-report")]),e._v(" file that can interfere with the upgrade. Consider removing the file:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v(" Network configuration "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("for")]),e._v(" unsupported device types detected\n Summary: RHEL "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("9")]),e._v(" does not support the legacy network-scripts package that was deprecated "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("in")]),e._v(" RHEL "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("8")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("in")]),e._v(" favor of NetworkManager. Files "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("for")]),e._v(" device types that are not supported by NetworkManager are present "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("in")]),e._v(" the system. Files with the problematic configuration:\n   - /etc/sysconfig/network-scripts/ifcfg-eth0\n")])])]),a("p",[e._v("Check the "),a("a",{attrs:{href:"/elevate/ELevate-frequent-issues"}},[e._v("ELevate Frequent Issues")]),e._v(" page for known and frequent issues and guidance steps to solve them.")])]),e._v(" "),a("li",[a("p",[e._v("Start an upgrade. You'll be offered to reboot the system after this process is completed.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sudo leapp upgrade\nsudo reboot\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),a("p",[e._v("You might want to remove the "),a("strong",[e._v("make-devel")]),e._v(" package as it conflicts when running "),a("code",[e._v("leapp upgrade")]),e._v(" and thus this step fails.")])])]),e._v(" "),a("li",[a("p",[e._v("A new entry in GRUB called "),a("code",[e._v("ELevate-Upgrade-Initramfs")]),e._v(" will appear. The system will be automatically booted into it.\nSee how the update process goes in the console.")])]),e._v(" "),a("li",[a("p",[e._v("After reboot, login to the system and check how the upgrade went. Verify that the current OS is the one you need. Check logs and packages left from the previous OS version, consider removing or updating them manually.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("cat /etc/redhat-release\ncat /etc/os-release\nrpm -qa | grep el8\ncat /var/log/leapp/leapp-report.txt\ncat /var/log/leapp/leapp-upgrade.log\n")])])])]),e._v(" "),a("li",[a("p",[e._v("There will be outstanding "),a("strong",[e._v("nss_db")]),e._v(" package which should be removed and the system should be updated:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("dnf update --allowerasing\n")])])])]),e._v(" "),a("li",[a("p",[e._v("When performing a progressive upgrade from CentOS 7 to AlmaLinux 9, you may encounter the following issue on EL 9 while using "),a("code",[e._v("vi")]),e._v(" (not "),a("code",[e._v("vim")]),e._v("). For more details and a fix, please check the "),a("a",{attrs:{href:"#important-notes-about-the-upgrade-process"}},[e._v("Important Notes")]),e._v(" section below.")])])]),e._v(" "),a("h2",{attrs:{id:"important-notes-about-the-upgrade-process"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#important-notes-about-the-upgrade-process"}},[e._v("#")]),e._v(" Important Notes about the Upgrade Process")]),e._v(" "),a("h3",{attrs:{id:"package-dependency-error-after-elevate-upgrade"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#package-dependency-error-after-elevate-upgrade"}},[e._v("#")]),e._v(" Package Dependency Error After ELevate Upgrade")]),e._v(" "),a("p",[e._v("During the upgrade, ELevate uses a multitude of repositories to migrate and upgrade the system. Among them is the usage of the CRB repository. Important to note, if the CRB repository was not enabled on your system prior to using ELevate, it will remain disabled after the upgrade. This can cause future system updates via dnf to fail as one or more packages/package dependencies may now depend on packages within the CRB repository. The errors can look something like this:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("Error: \nProblem: package nss_db-2.34-100.el9_4.2.x86_64 from @System requires glibc(x86-64) = 2.34-100.el9_4.2, but none of the providers can be installed\n\ncannot install both glibc-2.34-100.el9_4.2.alma.2.x86_64 from baseos and glibc-2.34-100.el9_4.2.x86_64 from @System\ncannot install both glibc-2.34-100.el9_4.2.x86_64 from baseos and glibc-2.34-100.el9_4.2.alma.2.x86_64 from baseos\ncannot install the best update candidate for package glibc-2.34-100.el9_4.2.x86_64\nproblem with installed package nss_db-2.34-100.el9_4.2.x86_64\n")])])]),a("p",[e._v("This issue can be resolved by enabling the CRB repository.")]),e._v(" "),a("p",[e._v("While this is one of the most commonly encountered post-ELevate dnf repository related issues, additional or alternative issues may arise from similarly absent dnf repositories that are responsible for dependency resolution.")]),e._v(" "),a("p",[e._v("To enable CRB or any other AlmaLinux repository, please reference "),a("RouterLink",{attrs:{to:"/repos/AlmaLinux.html"}},[e._v("this article")])],1),e._v(" "),a("h3",{attrs:{id:"error-detected-while-processing-etc-virc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#error-detected-while-processing-etc-virc"}},[e._v("#")]),e._v(" Error Detected While Processing /etc/virc")]),e._v(" "),a("p",[e._v("When performing a progressive upgrade from CentOS 7 to AlmaLinux 9, you may encounter the following issue on EL 9 while using "),a("code",[e._v("vi")]),e._v(" (not "),a("code",[e._v("vim")]),e._v("):")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("Error detected while processing /etc/virc:\nline   40:\nE319: Sorry, the command is not available in this version: let skip_defaults_vim=1\n")])])]),a("p",[e._v("To fix this error:")]),e._v(" "),a("ul",[a("li",[e._v("Open "),a("code",[e._v("/etc/virc")]),e._v(" file using a text editor of your choice.")]),e._v(" "),a("li",[e._v("Search for the line containing the text "),a("em",[e._v("content added by Leapp")]),e._v(".")]),e._v(" "),a("li",[e._v("Locate and remove the following line:"),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("let skip_defaults_vim=1\n")])])])]),e._v(" "),a("li",[e._v("Save the file and exit the editor.")])]),e._v(" "),a("p",[e._v("After making these changes, the error should no longer appear when using "),a("code",[e._v("vi")]),e._v(".")]),e._v(" "),a("h2",{attrs:{id:"get-help"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-help"}},[e._v("#")]),e._v(" Get Help")]),e._v(" "),a("p",[e._v("For more help and assistance reach out to us in the ~migration channel on the "),a("a",{attrs:{href:"https://chat.almalinux.org/almalinux/channels/migration",target:"_blank",rel:"noopener noreferrer"}},[e._v("AlmaLinux Community Chat"),a("OutboundLink")],1),e._v(".")])])}),[],!1,null,null,null);a.default=r.exports}}]);